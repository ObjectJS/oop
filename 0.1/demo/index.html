<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>oop的demo</title>
    <script src="http://g.tbcdn.cn/kissy/k/1.3.0/kissy-min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="http://g.tbcdn.cn/kissy/k/1.3.0/css/dpl/base-min.css">
</head>
<body>
<h2>oop的demo</h2>

<script>
    var S = KISSY;
    if (S.Config.debug) {
        var srcPath = "../../../";
        S.config({
            packages:[
                {
                    name:"gallery",
                    path:srcPath,
                    charset:"utf-8",
                    ignorePackageNameInUri:true
                }
            ]
        });
    }

    S.use('gallery/oop/0.1/index', function (S, oop) {
        var MyClass = new oop.Class({
            p: oop.property(function() {
                return this.__p;
            }, function(value) {
                this.__p = String(value).toUpperCase();
            }),
            m: function() {
                console.log('called');
            },
            sm: oop.staticmethod(function() {
                console.log('called');
            })
        });

        var my = new MyClass();
        my.m(); // ==> called
        MyClass.sm(); // ==> called
        my.p = 'a';
        console.log(my.p) // ==> A
    })
</script>
</body>
</html>
